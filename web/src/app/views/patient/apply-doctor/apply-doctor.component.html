<div class="pagetitle">
  <h1>Apply for a doctor appointment</h1>
  <nav>
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="index.html">Home</a></li>
      <li class="breadcrumb-item active">Apply</li>
    </ol>
  </nav>
</div>
<!-- End Page Title -->

<div class="">
  <div class="card">
    <div class="card-body">
      <h5 class="card-title">Apply for a doctor appointment</h5>

      <!-- General Form Elements -->
      <form #AppointmentForm="ngForm" (ngSubmit)="onSubmit()">
        <div class="row mb-3">
          <label for="inputEmail" class="col-sm-2 col-form-label">Email</label>
          <div class="col-sm-10">
            <input
              type="email"
              class="form-control"
              [(ngModel)]="email"
              name="email"
            />
          </div>
        </div>
        <div class="row mb-3">
          <label for="inputEmail" class="col-sm-2 col-form-label">City</label>
          <div class="col-sm-10">
            <input
              type="text"
              class="form-control"
              [(ngModel)]="city"
              name="city"
            />
          </div>
        </div>

        <div class="row mb-3">
          <label for="inputNumber" class="col-sm-2 col-form-label">phone</label>
          <div class="col-sm-10">
            <input
              type="phone"
              class="form-control"
              [(ngModel)]="phone"
              name="phone"
            />
          </div>
        </div>

        <div class="row mb-3">
          <label for="inputDate" class="col-sm-2 col-form-label">Date</label>
          <div class="col-sm-10">
            <input
              type="date"
              class="form-control"
              name="date"
              [(ngModel)]="date"
              (ngModelChange)="onDateChange()"
            />
            <div *ngIf="errorMessage">
              {{errorMessage}}
            </div>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2 col-form-label">time available</label>
          <div class="col-sm-10">
            <select
              class="form-select"
              aria-label="Default select example"
              [(ngModel)]="timeAvailable"
              name="timeAvailable"
              [attr.disabled]="isLoading ? true : null"

            >
              <option selected disabled>Open this select menu</option>
              <!-- <option *ngFor="let slot of filtredSlots" [value]="slot">{{ slot }}</option> -->
              <ng-container *ngFor="let slot of daySlots">
                <option [value]="slot" [attr.disabled]="bookedSlotes.includes(slot) ? true : null">
                  {{ slot }}
                </option>
              </ng-container>
        
            </select>
          </div>
        </div>

        <div class="row mb-3">
          <label for="inputPassword" class="col-sm-2 col-form-label"
            >comment</label
          >
          <div class="col-sm-10">
            <textarea class="form-control" style="height: 100px"></textarea>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-sm-10">
            <button type="submit" class="btn btn-primary" [disabled]="isLoading">
              {{ isLoading ? 'Booking...' : 'Book' }}
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
